<div id="app1">
    <h3 align="center" class="font-weight-bold">Customer Table</h3>
    <br>
    <table class="table table-striped">
    <thead class="thead-dark">
    <tr>
        <th>Customer ID</th>
        <th>Customer Name</th>
        <th>PhoneNumber</th>
        <th>Status</th>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    </thead>

    <tr v-for="x in list1">
        <td>{{x.customerId}}</td>
        <td>{{x.customerName}}</td>
        <td>{{x.phoneNumber}}</td>
        <td>{{x.statusName}}</td>
        <td><button class="btn btn-outline-warning" @@click="toEditPage(x)">Edit</button></td>
        <td><button class="btn btn-outline-danger" @@click="deleteRecord(x)">Delete</button></td>
    </tr>
    </table>
    <br>
    <div align="center"><button class="btn btn-outline-primary" @@click="redirect1()">Add Customer</button></div>
    <br><hr>


    <h3 align="center" class="font-weight-bold">Account Table</h3>
    <br>
    <table class="table table-striped">
    <thead class="thead-dark">
    <tr>
        <th>Account ID</th>
        <th>Bank Account Number</th>
        <th>Owner ID</th>
        <th>Account Owner Name</th>
        <th>Balance</th>
        <th>AccountType</th>
        <th>Status</th>
        <th>Edit</th>
        <th>Delete</th>
    </tr>
    </thead>
    
    <tr v-for="y in list2">
        <td>{{y.bankAccountId}}</td>
        <td>{{y.bankAccountNo}}</td>
        <td>{{y.accountOwnerId}}</td>
        <td>{{y.accountOwner}}</td>
        <td>{{y.balance}}</td>
        <td>{{y.accountType}}</td>
        <td>{{y.status}}</td>
        <td><button class="btn btn-outline-warning" @@click="edit_act(y)">Edit</button></td>
        <td><button class="btn btn-outline-danger">Delete</button></td>
    </tr>
    </table>
    <br>
    <div align="center">
        <button class="btn btn-outline-primary" @@click="redirect2()">Add Account</button>
        <button class="btn btn-outline-success" @@click="redirect3()">Deposit</button>
        <button class="btn btn-outline-success" @@click="redirect4()">WithDraw</button>
        <button class="btn btn-outline-success" @@click="redirect5()">Transfer</button>
    </div>
    <br>
    
</div>

@section scripts {
    <script>
        var component = {
            el: '#app1',
            data:{
                list1: [],
                list2: [],

            },//end of data
            methods:{
                redirect1(){
                    window.location = "/page/addcustomers";
                },//end of function redirect1
                redirect2(){
                    window.location = "/page/addaccount";
                },//end of function redirect2
                redirect3(){
                    window.location = "/page/depositadmin";
                },//end of function redirect3
                redirect4(){
                    window.location = "/page/withdrawadmin";
                },
                redirect5(){
                    window.location = "/page/transferadmin";
                },//end of function
                toEditPage(x){
                    window.location = '/page/editCustomer/' + x.customerId;
                },//end of edit page
                edit_act(y){
                    window.location = '/page/editAccount/' + y.bankAccountId;
                },//end of edit_act
                async deleteRecord(x){
                    if(confirm("Do you want to delete this customer??")){
                        
                        console.log(x);                        
                        var url = "/api/bank/removeCustomer2?id=" + x.customerId;
                        var url = "/api/bank/removeCustomer";
                        //console.log(url);
                        //return;
                        var result = await axios.post(url);
                        console.log(result.data);
                        await alert(result.data.code + " : " + result.data.message);
                        location.reload();                        
                    }//end of if
                },//end of delete
            },//end of section for implementing function call
            created(){
                //getting the information
                this.list1 = @Html.Raw(Json.Serialize(@ViewBag.list1));  
                this.list2 = @Html.Raw(Json.Serialize(@ViewBag.list2));            

            },//end of function created , the function that will be initializor data for this page 

        };//end of component
        var vuejs1 = new Vue(component);
    </script>
}